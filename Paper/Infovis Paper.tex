\documentclass{sigchi}
% Use this command to override the default ACM copyright statement
% (e.g. for preprints).  Consult the conference website for the
% camera-ready copyright statement.

%% HOW TO OVERRIDE THE DEFAULT COPYRIGHT STRIP --
%% Please note you need to make sure the copy for your specific
%% license is used here!
% \toappear{
% Permission to make digital or hard copies of all or part of this work
% for personal or classroom use is granted without fee provided that
% copies are not made or distributed for profit or commercial advantage
% and that copies bear this notice and the full citation on the first
% page. Copyrights for components of this work owned by others than ACM
% must be honored. Abstracting with credit is permitted. To copy
% otherwise, or republish, to post on servers or to redistribute to
% lists, requires prior specific permission and/or a fee. Request
% permissions from \href{mailto:Permissions@acm.org}{Permissions@acm.org}. \\
% \emph{CHI '16},  May 07--12, 2016, San Jose, CA, USA \\
% ACM xxx-x-xxxx-xxxx-x/xx/xx\ldots \$15.00 \\
% DOI: \url{http://dx.doi.org/xx.xxxx/xxxxxxx.xxxxxxx}
% }
\toappear{}

% Arabic page numbers for submission.  Remove this line to eliminate
% page numbers for the camera ready copy
% \pagenumbering{arabic}

% Load basic packages
\usepackage{balance}       % to better equalize the last page
\usepackage{graphics}      % for EPS, load graphicx instead 
\usepackage[T1]{fontenc}   % for umlauts and other diaeresis
\usepackage{txfonts}
\usepackage{mathptmx}
\usepackage[pdflang={en-US},pdftex]{hyperref}
\usepackage{color}
\usepackage{booktabs}
\usepackage{textcomp}

% Some optional stuff you might like/need.
\usepackage{microtype}        % Improved Tracking and Kerning
% \usepackage[all]{hypcap}    % Fixes bug in hyperref caption linking
\usepackage{ccicons}          % Cite your images correctly!
% \usepackage[utf8]{inputenc} % for a UTF8 editor only

% If you want to use todo notes, marginpars etc. during creation of
% your draft document, you have to enable the "chi_draft" option for
% the document class. To do this, change the very first line to:
% "\documentclass[chi_draft]{sigchi}". You can then place todo notes
% by using the "\todo{...}"  command. Make sure to disable the draft
% option again before submitting your final document.
\usepackage{todonotes}

% Paper metadata (use plain text, for PDF inclusion and later
% re-using, if desired).  Use \emtpyauthor when submitting for review
% so you remain anonymous.
\def\plaintitle{Visualizing NBA teams across multiple seasons}
\def\plainauthor[#1]{#1}
\def\plainauthors[#1]#2#3{#1, #2, #3}
\def\emptyauthor{}
\def\plainkeywords{Authors' choice; of terms; separated; by
  semicolons; include commas, within terms only; required.}
\def\plaingeneralterms{Documentation, Standardization}

% llt: Define a global style for URLs, rather that the default one
\makeatletter
\def\url@leostyle{%
  \@ifundefined{selectfont}{
    \def\UrlFont{\sf}
  }{
    \def\UrlFont{\small\bf\ttfamily}
  }}
\makeatother
\urlstyle{leo}

% To make various LaTeX processors do the right thing with page size.
\def\pprw{8.5in}
\def\pprh{11in}
\special{papersize=\pprw,\pprh}
\setlength{\paperwidth}{\pprw}
\setlength{\paperheight}{\pprh}
\setlength{\pdfpagewidth}{\pprw}
\setlength{\pdfpageheight}{\pprh}

% Make sure hyperref comes last of your loaded packages, to give it a
% fighting chance of not being over-written, since its job is to
% redefine many LaTeX commands.
\definecolor{linkColor}{RGB}{6,125,233}
\hypersetup{%
  pdftitle={\plaintitle},
% Use \plainauthor for final version.
  pdfauthor={\plainauthors[Yannick Boesmans]{Yannick Laevaert}{Yves Langeraert}},
%  pdfauthor={\emptyauthor},
  pdfkeywords={\plainkeywords},
  pdfdisplaydoctitle=true, % For Accessibility
  bookmarksnumbered,
  pdfstartview={FitH},
  colorlinks,
  citecolor=black,
  filecolor=black,
  linkcolor=black,
  urlcolor=linkColor,
  breaklinks=true,
  hypertexnames=false
}

% create a shortcut to typeset table headings
% \newcommand\tabhead[1]{\small\textbf{#1}}

% End of preamble. Here it comes the document.
\begin{document}

\title{\plaintitle}

\numberofauthors{3}
\author{%
  \alignauthor{\plainauthor[Yannick Boesmans]\\
    \affaddr{KU Leuven}\\
    \email{yannick.boesmans}\\
    \email{@student.kuleuven.be}}\\
  \alignauthor{\plainauthor[Yannick Laevaert]\\
    \affaddr{KU Leuven}\\
    \email{yannick.laevaert}\\
    \email{@student.kuleuven.be}}\\
  \alignauthor{\plainauthor[Yves Langeraert]\\
    \affaddr{KU Leuven}\\
    \email{yves.langeraert}\\
    \email{@student.kuleuven.be}}\\
}

\maketitle

\begin{abstract}
    This paper details the conceptualization and implementation of an
    interactive visualization of data about NBA seasons including teams, game
    results and player statistics. The d3.js framework was used to develop this
    visualization.
    %TODO add results
\end{abstract}

%TODO keywords
\category{H.5.m.}{Information Interfaces and Presentation
  (e.g. HCI)}{Miscellaneous} \category{See
  \url{http://acm.org/about/class/1998/} for the full list of ACM
  classifiers. This section is required.}{}{}

\keywords{\plainkeywords}

\section{Introduction}

This paper describes the visualization of NBA data made by the ``The Tufters''
team for the course ``Information Visualization''. In section~\ref{sec:goal}
we describe the goal of the visualization and the target audience. In
section~\ref{sec:data} we describe the data used, including its origins,
advantages and limitations. In section~\ref{sec:literature} we give an overview
of related literature and web resources, including related visualizations.
Related visualizations include both visualizations of NBA or other sports data,
as well as visualizations tackling a problem we encountered during the
development of our visualization. In section~\ref{sec:visualization} we describe
the visualization itself. We give an overview of the different stages of
development of the visualization, as well as the major design decisions made
during the development process. Section~\ref{sec:discussion} discusses potential
improvements of the final visualization and lessons learned from the project. We
conclude in section~\ref{sec:conclusion} by giving a short overview.

\section{Goal and Target Audience}\ref{sec:goal}
The visualization's goal is allowing exploration of NBA data by lay persons.
More specifically, the visualization does not try to offer premade explanations
for phenomenons visible in the NBA data. By providing easy and intuitive access
to the data, users can draw their own conclusions. It thus enables users of all 
sorts to explore the data for patterns.
Secondly, the visualization's target audience are lay persons. This means it 
satifies needs of people regardless if they are professionally active in the 
field of basketball or not. Specifically, fans of NBA are the core of our target
audience. This means the visualization assumes most common basketball terms are
known to the audience and as such does not provide additional information about 
them.
The visualization should enable people to look for changes in team statistics 
and evaluate the impact on the team. The visualization gives also a short insight
in what caused the change in statistics. Eg. a user could notice a spike/drop in 
the SRS score () of a team. The user will then be able to see how the spike was 
caused (team performance, players that joined the team, players that left the 
team). Next to that, the user will can also explore the impact of the change on
the team. She/he will be able to scroll through time and notice how the results of
the team change over time since the spike/drop.

\section{Data}\ref{sec:data}
The data visualized is a subset of the data available on basketball statistics
site basketball-reference\cite{basketball-reference}. A wide range of data is
available on this site. In our visualization we only use data from 1984 onwards.
The data we use includes league standings and playoff rankings for each team,
team overall statistics, the team's roster and individual player statistics 
for each year, including the PER~(Player Efficiency Rating). 

The data was gathered by scraping the basketball-reference site, mostly using
the provided download capabilities. Most of the data was downloaded in csv
format, while some tables had to be manually scraped. The data was then combined
in a preprocessing step. In this step, each team's playoff rankings were
calculated based on the matches played during the playoffs, and the rest of the
data was combined into json format. The final preprocessing step combines all
data into one json file.

\section{Related Work}\ref{sec:literature}


\section{Visualization}\ref{sec:visualization}
The visualization consists of three parts:
- The bubble view: a compact view on the play-offs per season
- The statistics (zoom) view: a more detailed view on a statistic of a selected 
team
- The team view: a detailed view on how good or bad a team scores on a specific 
field position
All three of them are discussed in more detail with the rationale behind them.
The webpage is built in such a way that it gives a hint to the user at the bottom
or the top of a page when another view is available. By showing a different 
background color and an arrow, we invite the visitor to explore other views. The 
user is also at liberty to scroll through these views. However, a fixed scroll is
implemeted so users will only end in complete views when moving around. Note that 
the user also will be guided through all 3 views when performing actions described 
in the section below.

\subsection{The bubble view}
This view supposes to inform the user of the results of the NBA play-offs per 
season. A circle is used to represent a team, the size its SRS score using a '?'
distribution, a stroke to illustrate it's region or medal won during regional 
competition and curved lines to inform the user which teams played against each 
other. The user has a timeline at its disposal to scroll through time. Note that
the team can be recognized by the logo inside the circle. Our initial desing filled
the circle with the red or blue depending on the region where the teams compete. 
However, the shade of colour was darker if their final ranking was higher in their
region. We've replaced this with the logo's of the teams as we thought this is more
user friendly and the extra information of the ranking doesn't outweight.
<picture of the bubble view compared with double elimination bracket>
A more popular visualization of a play-off is the team double elimination bracket.
Although this is a more common representation, we wanted to create a more compact
version by eliminating the recurring representation of a team. We also considered 
enclosed circles and a sunburst.
<figure of 2 alternatives https://thetuftersblog.wordpress.com/2016/03/07/team-ranking-play-off-infovis/>
Although the enclosed circles is a compact representation as well, we have continued 
with our own design as we believe this view is more original and innovative. We 
didn't encouter a similar view when searching for alternatives to visualize a 
play-off or championship. 
Our initial bubble view was too compact. It connected teams that played against
each other directly. When searching for alternatives to reflect on our choice we
discovered a similar visualization in a totally different context. 
<https://source.opennews.org/en-US/articles/nyts-512-paths-white-house/>
<comparison of original buble view with white house paths>
This visualization gives a cleaner view of the competitors for a specific team
compared to our original sketch. Hence we decided to adapt our visualization. We
added an intermediate step between two teams to clearer indicate how teams competed
to become NBA champion.
Next to the static view, the user can interact with the visualization. When he 
hoovers over a circle of a team, only the games played are shown by highliting the 
competitors (their circles) and the curved lines that connect them. This view gets 
fixated when the users clicks on a team.
He/she then automatically gets forwarded to the statistics view where the bubble 
view is still represented in the right upper corner to make sure the user keeps
an overview. This view will be explained in more detail in the next section.

\subsection{The statistics view}
The statistics view gives a user a clear overview of how a statistic has been 
influenced compared to the year before. The view consists of 3 parts:
- Context section: the top part should inform the user of his/her context.
- An arrow section illustrating why a statistic changed
- Small multiples of team statistics and how they evolve over time
\subsubsection{Context section}
The context section should inform the user at all times of the current selections 
that have been made. The statistics view will always be based on a specific team
and season that have been selected or that are initated. This should be clear based
on the textual information in the top left. Next to that, in the top right a small 
bubble view is shown. It indicates the team selected and how well it performed in 
the play-offs during that season. When changing teams and/or season, this view gets 
updated as well as the textual information.

\subsubsection{Arrow section of selected statistic}
This section illustrates a change for a choosen statistic compared with the season
the year before. This should give a visitor more insight into why a statistic changed
over time. The change is represented by three arrows:
- arrow on the left pointing towards the middle: indicating the influence of players
who joined the team
- arrow in the middle: indicating how the team inherent changed
- arrow on the right pointing towards the middle: indicating the influence of players
who left the team
<figure of the statistics view>
The shirts next to the arrows are the shirts of players that had the biggest 
contribution to that arrow. Note that these shirts don't change in size. The box on 
the right enables the user to change between 
statistics. Next to that it informs the user of which statistic has been choosen. When 
the user hits the circle in the middle representing the teams SRS scrore, he is guided 
to the team view. This view will be explained in more detail in the next section.

\subsubsection{Small multiples of different statistics}
Below the arrow section small multiples are shown of multiple statistics over time. 
The line charts enables a user to identify peaks or drops that possibly influenced the 
outcome of a team is this season/following seasons or previous seasons. A user interact
with the visualization by shifting the bar indicating the current year displayed. By doing
this the view gets updated and the user can see the impact on the team in the context 
section and why the statistic changes in the arrow section. An alternative to scroll
through time is to use the timeline at the bottom of the page.

\subsection{The team view}
This view as well as the statistics view should give the user the ability to search
for explanations why a team is is performing better or worse over seasons. On the 
other hand, a user can see what impact a change in team characteristics has on its
overall performance.
This view shows each player of the team on its field postions. Shirts aligned next to 
each other will thus share the same position. The size of a shirt would illustrate a
players performance on this spot. The PES score () is initiated. This view should give
a user insight on how strong or weak a particular team is for a specific field position.
A user can then scroll through time, see how field positions evolve and what the influence
is over time.
Initially we designed this view more elaborate. When the user would click on a shirt,
specific player information would be shown. Next to some general text information, 
we would have visualised a number of player statistics as small multiples. A bell curve
should have informed how a player scores compared to his team, other players in the 
league on this position or all other players in the league. We considered other charts for
the small multiples as well. A box plot or bullet was less clear for us to indicate where
a player stands compared to the group he was compared with. Alternatives for the small 
multiples were evaluated as well. One good alternative was the shooting signature.
<http://peterbeshai.com/buckets/app/#/playerView/201935_2015>
However, creating such a visualization is again a project on itself and due to time 
constraints we left it aside. Other possibilities such as a heatmap or spider web didn't
fulfill our need to give the visitor a clear overview of how a player performed compared
to its peergroup.
<Sketch of the small multiples>


\subsection{Technology}
To create the visualization, the d3 javascript framework~\cite{d3} was used in
combination with html5~\cite{html5} and jquery~\cite{jquery}. This allows easy
access to the visualization as most modern browsers are capable of handling
these technologies.
The choice not to use the d3 framework for the entire visualization was made to
ease the layout configuration of the visualization. Instead, html was used to do
the global layout of the visualization. We opted to structure the site with multiple
divs as containers. To each container we allocate a svg with a specific visualization.
Eg. The statistic view is build out of x divs filled with different svg's created
with the D3 framework.
<sketch of how the page is structured>
When working with D3js we encountered some obstacles:
- A synchrounous call need to be combined with synchronous calls. More specific, when a
visitor uses the timeline to scroll through time, the whiping of previous visualizations 
was not synced with the creation of the visualisation. The resulted in whiping sections 
when a visualization was not created yet. Hence the view resulted in multiple figures 
overlapping.


\section{Lessons learned}\ref{sec:discussion}
We've learned a couple of lessons during the creation of this visualization:
- Find a use case as soon as possible to built your visualization around
- Each separate component should be a sufficient informative visualization on itself
- Creating a custom visualization costs time and opportunities
In what follows we will discuss our experience in more detail.

\subsection{A good use case}
At the beginning of this project we were able to design the 3 separate views 
quite quickly. Our main problem was the integrate these views as a whole. When we created drafts
of two views being the bubble view and the statitics view, we suddenly noted patterns. The golden
globe warriors became NBA champion a couple of years after a great uplift in SRS score. This 
due to a increase inside the team and because of new player joining the team in 2009. In 
the years following, the team kept on attracting talented players and increased the inherent
team score (with ups and downs) to become NBA champion in 2015. With the team view one can even
notice that the team gets stronger in centre team positions during this period.
The visualization however is missing at the moment if this reinforcement of the field positions
is due to the attraction of talented people or utilizing available talent within the team.

\subsection{Each component should be informative}
In order to have a good visualization as a whole, each component should be a clear and 
informative visualization on itself. This is a lesson learned from our work, but also when
evaluating the work of peers. We started noticing that most components in a visualization 
lack references and hence are not informative enough. Eg. each small multiple of a statisctic
in the statistics view on itself gives sufficient information to stand on itselfs. The bar in
the small multiple indicates the score in the selected season and enables the user to evaluate
that score over time. Have there been better scores, or worse scores. Is this score part of 
an upward movement during years? 
For this reason we can argue that the circle representing the teams SRS score in the statisctics
view is not the best choice. We could have chosen a bar chart with an indication of the best and
worst score for that specific team over time or for the best & worst team in that season.

\subsection{Custom visualizations]
Before exploring what is out there in the D3js world, we made our own sketches. This is how
we came up with the 3 custom views that makes our visualization. When comparing our design 
with alternatives we could not find something that satisfied our needs. Nonetheless, they gave
us inspiration to fine tune our designs. Although we are happy very happy with our result and
we are convinced it was the right choice reach our goal, it had some draw backs.
We noted that other teams had more freedom in exploring multiple different visualizations which
enabled them to evaluate different options with trial and error. A luxury we did not have. We 
could have prepared our data in a format that was more compatible with out of the box examples,
but this would have had too much of an impact on our result.
Next to that, although we've tried to write our code as general as possible, we're not convinced
this could be shared in such a way that other information visualizer could easily re-use our work
to vizualise other sports.

\section{Conclusion}\ref{sec:conclusion}


% Balancing columns in a ref list is a bit of a pain because you
% either use a hack like flushend or balance, or manually insert
% a column break.  http://www.tex.ac.uk/cgi-bin/texfaq2html?label=balance
% multicols doesn't work because we're already in two-column mode,
% and flushend isn't awesome, so I choose balance.  See this
% for more info: http://cs.brown.edu/system/software/latex/doc/balance.pdf
%
% Note that in a perfect world balance wants to be in the first
% column of the last page.
%
% If balance doesn't work for you, you can remove that and
% hard-code a column break into the bbl file right before you
% submit:
%
% http://stackoverflow.com/questions/2149854/how-to-manually-equalize-columns-
% in-an-ieee-paper-if-using-bibtex
%
% Or, just remove \balance and give up on balancing the last page.
%
\balance{}

% REFERENCES FORMAT
% References must be the same font size as other body text.
\bibliographystyle{SIGCHI-Reference-Format}
\bibliography{sample}

\end{document}

%%% Local Variables:
%%% mode: latex
%%% TeX-master: t
%%% End:
